<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="../css/base_px.css" />
        <link rel="stylesheet" type="text/css" href="../css/iconfont.css" />
        <link rel="stylesheet" type="text/css" href="../css/login_reg_common.css" />
        
        

        <link rel="stylesheet" type="text/css" href="../css/reg.css" />
        
    </head>
    <body>
        <!-- wrap 最外层盒子 -->
        <div id="wrap">
            <!-- top 顶部-->
            <div class="topadnew">       
            </div>
            <div id="topnav">
                <div class="topnav con">

                    <!-- 顶部左边导航栏 --> 
                    <dl class="topnav_l fl">
                        <dd>您好！</dd>
                        <dd class="">
                                <a class="login-please"> 欢迎来到批发户!&nbsp;&nbsp;&nbsp;</a>
                        </dd>
                        <dd>
                                <a href="login.html" class="login-please" style="color:#bc338b">请登录</a>
                        </dd>
                        <dd class="topnav_line"></dd>
                        <dd class="">
                                <a href="reg.html" class="register-please">免费注册</a>
                        </dd>
                        <dd class="topnav_line"></dd>
                    </dl>

                    <!-- 顶部右边导航栏 -->
                    <dl class="topnav_r fr">
                        <dd>
                            <h2><a href="#">我的批发户<i class="commom-icon1"></i></a></h2>
                            <ul>
                                <li>
                                    <a href="#">我的订单</a>
                                </li>
                                <li>
                                    <a href="#">我的数据</a>
                                </li>
                                <li>
                                    <a href="#">我的产品</a>
                                </li>
                                <li>
                                    <a href="#">我的权限</a>
                                </li>
                                
                                <li>
                                    <a href="#">快速选购</a>
                                </li>
                                <li>
                                    <a href="#">产品动态</a>
                                </li>
                                
                                <li>
                                    <a href="#">我的API</a>
                                </li>
                                <li>
                                    <a href="#">我的钱包</a>
                                </li>
                                <li>
                                    <a href="#">账户管理</a>
                                </li>
                                <li>
                                    <a href="#">新手帮助</a>
                                </li>
                                
                            </ul>

                        </dd>
                        
                        <dd class="topnav_line"></dd>
                        <dd>
                            <h2><a href="#">收藏夹<i class="commom-icon1"></i></a></h2>
                            <ul style="width:auto;">
                                <li style="text-align:center;">
                                        <a href="javascript:;" onclick="GetLoginAndRegister()">收藏的货品</a>
                                </li>
                                <li style="text-align:center;">
                                        <a href="javascript:;" onclick="GetLoginAndRegister()">收藏的店铺</a>
                                </li>
                            </ul>
                        </dd> 
                        <dd class="topnav_line"></dd> 
                        <dd class="">
                            <a href="#" target="_blank">行业资讯</a>
                        </dd>
                        <dd class="topnav_line"></dd>
                        <dd>
                            <a href="#">我是卖家</a>
                        </dd>
                        
                        <dd class="topnav_line"></dd>
                        <dd>
                            <h2><a href="#">平台客服<i class="commom-icon1"></i></a></h2>
                            <ul style="width:auto;right: 3px;">
                                <li style="text-align:center;">
                                    <a target="_blank" href="#">卖家客服</a>
                                </li>
                                <li style="text-align:center;">
                                    <a target="_blank" href="#">买家客服</a>
                                </li>
                            </ul>
                        </dd>
                    </dl>
                </div>
            </div>

            <!-- #header 头部-->
            <div id="header">
                <div class="header con">
                    <div class="header_logo fl">
                        <a href="../index.html"><img src="../img/login_reg_pic/login_reg_logo.png" height="48" width="210"></a>
                    </div>
                    <h3 class="reg_title fl">注册账户</h3>
                </div>
            </div>
            
            <!-- #main 主体-->
            <main>
                <div id="main" class="con">
                    <div id="regbox">
                        <div id="regbox_hd">用户注册</div>
                        <div id="regbox_bd">
                            <form action="#">
                                <input type="tel" id="user" value="" placeholder="手机"/>
                                <div for="phone" class="jianGe"><img id="telimg" src="" height="15" width="15" alt="" /><span id="inf1"></span></div>

                                <input type="password" id="psw" value="" placeholder="密码"/>
                                 <div for="psw" class="jianGe"><span id="inf2"></span></div>

                                <input type="password" id="repsw" value="" placeholder="再次确认密码"/>
                                <div for="repsw" class="jianGe"><span id="inf3"></span></div>
                                
                                <div id="codebox">
                                    <input class="fl" type="text" id="code" value="" placeholder="验证码"/>
                                    <input class="fl" type="button" id="btncode" value="免费获取验证码"/>
                                </div>
                                <div for="btncode" class="jianGe"><span id="inf4"></span></div>
                                
                                <input type="text" id="yaoqingma" value="邀请码，没有可不填" />
                                <!-- <div for="yaoqingma" class="jianGe2"></div> -->
                                <div id="xieyi">
                                    <input name="checkbox" type="checkbox" value="checkbox" checked="checked" /><span id="agree">我已阅读并同意</span>
                                    <a href="javascript:" class="register-protocol">《PFHOO平台用户注册协议》</a>
                                </div>
                                <!-- <div for="xieyi" class="jianGe2"></div> -->
                                <input type="button" value="注册" id="register"/>

                                <div id="tankuang">
                                    <input type="text" value="" placeholder="请输入验证码（不区分大小写）" class="input-val" />
                                    <canvas id="canvas" width="100" height="43"></canvas>
                                    <button class="btn">提交</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </main>
            
            <!--  foot 底部-->
            <footer>
                <article class="con">
                    <ul class="footer-main clearfix">
                        <li>
                            <dl>
                                <dt>新手指引</dt>
                                <dd>
                                    <a target="_blank" href="#">注册登录</a>
                                </dd>
                                <dd>
                                    <a target="_blank" href="#">选购下单</a>
                                </dd>
                                <dd>
                                    <a target="_blank" href="#">下载数据</a>
                                </dd>
                                <dd>
                                    <a target="_blank" href="#">批量刊登</a>
                                </dd>
                                <dd>
                                    <a target="_blank" href="#">物流配送</a>
                                </dd>
                                <dd>
                                    <a target="_blank" href="#">退货退款</a>
                                </dd>
                                <dd>
                                    <a target="_blank" href="#">常见问题</a>
                                </dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>买家帮助</dt>
                                    <dd>
                                        <a target="_blank" href="#">账户资料</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">在线下单</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">产品数据</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">支付方式 </a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">退款退货</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">物流配送</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">售后服务</a>
                                    </dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>卖家帮助</dt>
                                    <dd>
                                        <a target="_blank" href="#">怎么入驻</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">入驻条件</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">产品上架</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">申请提现</a>
                                    </dd>
                                    <dd>
                                        <a href="#">运费设置</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">发货管理</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">退货管理</a>
                                    </dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>关于我们</dt>
                                    <dd>
                                        <a target="_blank" href="#">平台介绍</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">公司介绍</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">招商入驻</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">联系我们</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">招贤纳士</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">网站地图</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">合作伙伴</a>
                                    </dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>活动专场</dt>
                                    <dd>
                                        <a target="_blank" href="#">采购伙拼</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">品牌授权</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">品牌商家</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">首饰产地</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">新品爆款</a>
                                    </dd>
                                    <dd>
                                        <a target="_blank" href="#">热销排行</a>
                                    </dd>
                            </dl>
                        </li>
                        <li class="tel">
                            <dl>
                                <dd class="text">销售客服热线</dd>
                                <dd class="lkn-tel" style="font-size: 18px;color: #e2a302;">400-860-5859</dd>
                                <dd class="text">投诉建议电话</dd>
                                <dd class="lkn-tel">18123977231</dd>
                                <dd class="text">周一至周日9:00-18:00</dd>
                            </dl>
                        </li>
                        <li>
                            <dl class="fr">
                                <img src="../img/footer_pic/MobileCode.png">
                                <br>
                                <span style="font-size: 12px;position: relative;top: 0px; color:#FFFFFF;">手机下单 轻松采购</span>
                            </dl>
                        </li>
                    </ul>

                    <div class="copyright con">
                        © 2019 PFHOO.com 版权所有 <a href="#" >粤ICP备11062211号</a>
                    </div>

                    <div class="footadd clearfix">
                        <a href="#">
                            <img style="margin-left:0px;" src="../img/footer_pic/newGovIcon.gif" height="52" width="128">
                        </a>

                        <img src="../img/footer_pic/aliyun.jpg" height="52" width="128">

                        <img src="../img/footer_pic/alipay.jpg" height="52" width="128">

                        <a href="#">
                            <img src="../img/footer_pic/pfhoo.jpg" height="52" width="128">
                        </a>

                        <a href="#">
                            <img src="../img/footer_pic/shiming.jpg" height="52" width="128">
                        </a>

                        <a href="#">
                            <img src="../img/footer_pic/Bottom_360rz.png" height="52" width="128">
                        </a>
                    </div>
                </article>
            </footer>

            <!--  右边导航栏 -->
            <div id="sider">
                <div class="sidebar_nav">
                    <div class="e-sidebar-b">
                        <a href="#" id="user">
                            <i class="icon iconfont icon-user1"></i>
                        </a>
                        <ul class="e-sidebar-tab">
                            <li id="sidebarchart" class="e-sidebar-boder">
                                <a href="#" class="e-shop-wrap e-nav-wrap">
                                     <img src="../img/shop_pic/receipt1.png" height="23" width="25">
                                     <i id="rightseven" class="e-icon e-icon-shop"></i>
                                     <p>进货单</p>
                                     <span id="J_sidebar_shop_num" style="display: inline-block;">0</span>
                                </a>
                            </li>
                            <li class="e-sidebar-item">
                                    <a href="javascript:;" class="e-shop-wrap e-nav-wrap" text-content="我的收藏">
                                        <i class="icon iconfont icon-shoucang"></i>
                                    </a>
                            </li>
                            <li class="e-sidebar-item">
                                <a target="_blank" href="#" class="e-shop-wrap e-nav-wrap" text-content="客服QQ">
                                    <i class="icon iconfont icon-qq" style="text-align:center;"></i>
                                </a>
                            </li>
                            <li class="e-sidebar-item">
                                <div class="e-shop-wrap e-nav-wrap" text-content="400 860 5859">
                                    <i class="icon iconfont icon-tel"></i>
                                </div>
                            </li>
                            <li class="e-sidebar-item">
                                <div class="e-shop-wrap e-nav-wrap" text-content="1">
                                    <i class="icon iconfont icon-erweima"></i>
                                </div>
                            </li>
                            <li class="e-sidebar-item">
                                <div class="e-shop-wrap e-nav-wrap" text-content="敬请期待">
                                    <i class="icon iconfont icon-youhuiquan"></i>
                                </div>
                            </li>
                        </ul>
                        <ul id="backtop">
                            <li>返回顶部</li>
                        </ul>
                    </div>
                </div>
                <div class="e-sidebar-panel">
                       
                </div>
            </div>



        </div>
    </body>
    <script src="../js/myquery-Ui.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
        var backtop = document.getElementById('backtop');
        //需求：滚动到300px的时候，就出现回到顶部按钮，点击按钮就可以快速回到顶部
        toSlowtop(backtop,400,140);
    </script>
    <script src="../lib/jquery-1.10.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      
    
    </script>    
    
    <script src="../js/common.js" type="text/javascript"></script>
    <script type="text/javascript">
        window.onload = () => {
            /*
                * 验证用户名是否存在
                * 不存在就允许注册
                * 注册成功跳转到登陆页面
                * 登陆功能，登陆成功跳到首页
            
            */
            //找节点
            let user = document.getElementById('user');
            let btn = document.getElementById('register');
            let psw = document.getElementById('psw');
            let repsw = document.getElementById('repsw');
            let inf1 = document.getElementById('inf1');
            let inf2 = document.getElementById('inf2');
            let inf3 = document.getElementById('inf3');
            let inf4 = document.getElementById('inf4');
            let code = document.getElementById('code');
            let btncode = document.getElementById('btncode');
            let register = document.getElementById('register');
            let tankuang = document.getElementById('tankuang');
            let agree = document.getElementById('agree');

            // let msg = '';

            // var num = 60;


            // let telimg = document.getElementById('telimg');
            //前端：失去焦点的时候发送请求，把用户名传给后端
            var isok1 = false;
            var isok2 = false;
            var isok3 = false;
            var isok4 = false;

            // 手机号码验证
            user.onblur = function(){
                var tel = user.value.trim();//去掉前后空格
                console.log(tel);
                //非空判断
                if(tel){                  
                   var res = RegExpCheck.tel(user.value);
                    console.log(res);
                    if(res){
                        ajax2({
                            type : 'post',
                            url : '../api/checkuser.php',
                            data : 'user=' + user.value,
                            success : function(str){
                                if(str == 'yes') {
                                    inf1.innerHTML = '√'
                                    css(inf1,'color','#58bc58');
                                    isok1 = true;
                                }else{
                                    inf1.innerHTML = '! 该用户已存在';
                                    css(inf1,'color','yellowgreen');
                                    css(inf1,'fontSize','13px');
                                    css(inf1,'marginLeft','15px');
                                    isok = false;
                                }
                            }
                        });
                    }else{
                        inf1.innerHTML = '请输入正确的手机号码';
                        css(inf1,'color','red');
                        css(inf1,'fontSize','13px');
                        css(inf1,'marginLeft','15px');
                        isok1 = false;
                    }

                }else{
                    inf1.innerHTML = '手机号码不能为空！';
                    css(inf1,'color','red');
                    css(inf1,'fontSize','13px');
                    css(inf1,'marginLeft','15px');
                    isok1 = false;
                }
            }


            //密码验证
            psw.onblur = function(){
                var password =  psw.value.trim();//去掉前后空格
                //非空判断
                if(password){
                   let res = RegExpCheck.psweasy(password);
                   console.log(res);
                    if(res){
                        inf2.innerHTML = '√'
                        css(inf2,'color','#58bc58');
                        isok2 = true;
                    }else{
                        inf2.innerHTML = '6-18位首字母开头';
                        css(inf2,'color','#58bc58');
                        css(inf2,'marginLeft','15px');
                        css(inf2,'fontSize','13px');
                        isok2 = false;
                    }
                }else{
                    inf2.innerHTML = '密码不能为空！';
                    css(inf2,'color','red');
                    css(inf2,'marginLeft','15px');
                    css(inf2,'fontSize','13px');
                    isok2 = false;
                }
            }

            //确认密码验证
            repsw.onblur = function(){
                var confirm_pwd = repsw.value.trim();//去掉前后空格
                var password = psw.value.trim();//去掉前后空格
                //非空判断
                if(confirm_pwd){
                    let res = RegExpCheck.pswagain(confirm_pwd,password);
                    if(res){
                        inf2.innerHTML = '';
                        inf3.innerHTML = '√';
                        css(inf3,'color','#58bc58');
                        isok3 = true;

                    }else{
                        inf3.innerHTML = '两次密码不一致';
                        css(inf3,'color','red');
                        css(inf3,'marginLeft','15px');
                        css(inf3,'fontSize','13px');
                        isok3 = false;
                    }
                }else{
                    inf3.innerHTML = '确认密码不能为空！';
                    css(inf3,'color','red');
                    css(inf3,'marginLeft','15px');
                    css(inf3,'fontSize','13px');
                    isok3 = false;
                }
            }

            function draw(show_num) {
                var canvas_width=$('#canvas').width();
                var canvas_height=$('#canvas').height();
                var canvas = document.getElementById("canvas");//获取到canvas的对象，演员
                var context = canvas.getContext("2d");//获取到canvas画图的环境，演员表演的舞台
                canvas.width = canvas_width;
                canvas.height = canvas_height;
                var sCode = "A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0";
                var aCode = sCode.split(",");
                var aLength = aCode.length;//获取到数组的长度
                
                for (var i = 0; i <= 3; i++) {
                    var j = Math.floor(Math.random() * aLength);//获取到随机的索引值
                    var deg = Math.random() * 30 * Math.PI / 180;//产生0~30之间的随机弧度
                    var txt = aCode[j];//得到随机的一个内容
                    show_num[i] = txt.toLowerCase();
                    var x = 10 + i * 20;//文字在canvas上的x坐标
                    var y = 20 + Math.random() * 8;//文字在canvas上的y坐标
                    context.font = "bold 23px 微软雅黑";

                    context.translate(x, y);
                    context.rotate(deg);

                    context.fillStyle = randomColor();
                    context.fillText(txt, 0, 0);

                    context.rotate(-deg);
                    context.translate(-x, -y);
                }
                for (var i = 0; i <= 5; i++) { //验证码上显示线条
                    context.strokeStyle = randomColor();
                    context.beginPath();
                    context.moveTo(Math.random() * canvas_width, Math.random() * canvas_height);
                    context.lineTo(Math.random() * canvas_width, Math.random() * canvas_height);
                    context.stroke();
                }
                for (var i = 0; i <= 30; i++) { //验证码上显示小点
                    context.strokeStyle = randomColor();
                    context.beginPath();
                    var x = Math.random() * canvas_width;
                    var y = Math.random() * canvas_height;
                    context.moveTo(x, y);
                    context.lineTo(x + 1, y + 1);
                    context.stroke();
                }
            }

            function randomColor() {//得到随机的颜色值
                var r = Math.floor(Math.random() * 256);
                var g = Math.floor(Math.random() * 256);
                var b = Math.floor(Math.random() * 256);
                return "rgb(" + r + "," + g + "," + b + ")";
            }

            // 验证码
            btncode.onclick = function(){
                console.log(isok1,isok2,isok3);
                if(isok1 && isok2 && isok3){
                    css(tankuang,'display','block');
                    $(function(){
                        var show_num = [];
                        draw(show_num);
                        $("#canvas").on('click',function(){
                            draw(show_num);
                        })
                        $(".btn").on('click',function(){
                            var val = $(".input-val").val().toLowerCase();
                            var num = show_num.join("");
                            if(val==''){
                                alert('请输入验证码！');
                            }else if(val == num){
                                alert('提交成功！');
                                $(".input-val").val('');
                                draw(show_num);

                                css(tankuang,'display','none');
                                var btncodeval = btncode.value;
                                var num = 60;

                                function showTime(){
                                    btncodeval ='重新发送(' + num + ')';
                                    num--;
                                    btncode.disabled = 'disabled';
                                    if(num < 0){
                                        clearInterval(timer);
                                        // val = '进入页面';
                                        btncodeval ='免费获取验证码';
                                        num=60;
                                        btncode.disabled = '';
                                }           
                                    btncode.value = btncodeval;
                                }  
                                showTime();                          
                                var timer = setInterval(showTime,1000);

                                // 接收到短信验证码
                                code.onblur = function(){
                                    var msg = '1234';
                                    var codeval = code.value;

                                    if(codeval == msg){
                                        // alert('验证通过')
                                        inf4.innerHTML = '√'
                                        css(inf4,'color','#58bc58');
                                        isok4 = true;


                                        

                                    }else{
                                        // alert('验证码不正确！');
                                        inf4.innerHTML = '验证码不正确！';
                                        css(inf4,'color','red');
                                        // css(inf4,'fontSize','13px');
                                        css(inf4,'marginLeft','15px');
                                        isok4 = false;
                                    }
                                    
                                }

                            }else{
                                alert('验证码错误！请重新输入！');
                                $(".input-val").val('');
                                draw(show_num);
                            }
                        })
                    }) 
                }else{
                    alert('请先完善信息');
                }

            }
            // 点击注册按钮
            register.onclick = function(){
                if(isok1 && isok2 && isok3 && isok4 ){
                    ajax2({
                        type: 'post',
                        url: '../api/register.php',
                        data: 'user=' + user.value + '&psw=' + psw.value,
                        success : function(str) {
                         console.log(str);
                            if(str == 'yes') {
                                // console.log(11);
                                //成功：跳转到登陆页
                                location.href = './login.html?' + user.value;
                            }else{
                                alert('注册失败');
                            }
                        }
                    });

                   // if(agree.checked){
                   //      console.log('实在');
                   // }else{
                   //      alert('您须同意本协议才能注册');
                   // }
                }else{
                    alert('请先通过上面的验证');
                }
            }
        }        
    </script>
    <script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
    <!-- <script>
        $(function(){
            var show_num = [];
            draw(show_num);

            $("#canvas").on('click',function(){
                draw(show_num);
            })
            $(".btn").on('click',function(){
                var val = $(".input-val").val().toLowerCase();
                var num = show_num.join("");
                if(val==''){
                    alert('请输入验证码！');
                }else if(val == num){
                    alert('提交成功！');
                    $(".input-val").val('');
                    draw(show_num);

                }else{
                    alert('验证码错误！请重新输入！');
                    $(".input-val").val('');
                    draw(show_num);
                }
            })
        })

        function draw(show_num) {
            var canvas_width=$('#canvas').width();
            var canvas_height=$('#canvas').height();
            var canvas = document.getElementById("canvas");//获取到canvas的对象，演员
            var context = canvas.getContext("2d");//获取到canvas画图的环境，演员表演的舞台
            canvas.width = canvas_width;
            canvas.height = canvas_height;
            var sCode = "A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0";
            var aCode = sCode.split(",");
            var aLength = aCode.length;//获取到数组的长度
            
            for (var i = 0; i <= 3; i++) {
                var j = Math.floor(Math.random() * aLength);//获取到随机的索引值
                var deg = Math.random() * 30 * Math.PI / 180;//产生0~30之间的随机弧度
                var txt = aCode[j];//得到随机的一个内容
                show_num[i] = txt.toLowerCase();
                var x = 10 + i * 20;//文字在canvas上的x坐标
                var y = 20 + Math.random() * 8;//文字在canvas上的y坐标
                context.font = "bold 23px 微软雅黑";

                context.translate(x, y);
                context.rotate(deg);

                context.fillStyle = randomColor();
                context.fillText(txt, 0, 0);

                context.rotate(-deg);
                context.translate(-x, -y);
            }
            for (var i = 0; i <= 5; i++) { //验证码上显示线条
                context.strokeStyle = randomColor();
                context.beginPath();
                context.moveTo(Math.random() * canvas_width, Math.random() * canvas_height);
                context.lineTo(Math.random() * canvas_width, Math.random() * canvas_height);
                context.stroke();
            }
            for (var i = 0; i <= 30; i++) { //验证码上显示小点
                context.strokeStyle = randomColor();
                context.beginPath();
                var x = Math.random() * canvas_width;
                var y = Math.random() * canvas_height;
                context.moveTo(x, y);
                context.lineTo(x + 1, y + 1);
                context.stroke();
            }
        }

        function randomColor() {//得到随机的颜色值
            var r = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);
            return "rgb(" + r + "," + g + "," + b + ")";
        }
    </script> -->
</html>